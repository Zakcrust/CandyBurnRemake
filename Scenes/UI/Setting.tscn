[gd_scene load_steps=6 format=2]

[ext_resource path="res://Fonts/Header - dinrundschriftmittel.otf" type="DynamicFontData" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Control

signal back_signal()

func _ready():
	hide()


func _on_SfxSlider_value_changed(value):
	if value == -12:
		mute_music(true)
	else:
		mute_music(false)
		adjust_volume_sfx(value)


func _on_MusicSlider_value_changed(value):
	if value == -12:
		mute_music(true)
	else:
		mute_music(false)
		adjust_volume_music(value)

func adjust_volume_music(value) -> void:
	AudioServer.set_bus_volume_db(AudioServer.get_bus_index(\"Music\"), value)

func adjust_volume_sfx(value) -> void:
	AudioServer.set_bus_volume_db(AudioServer.get_bus_index(\"Sfx\"), value)

func mute_music(value : bool) -> void:
	AudioServer.set_bus_mute(AudioServer.get_bus_index(\"Music\"), value)

func mute_sfx(value : bool) -> void:
	AudioServer.set_bus_mute(AudioServer.get_bus_index(\"Sfx\"), value)


func _on_Back_pressed():
	emit_signal(\"back_signal\")
"

[sub_resource type="DynamicFont" id=2]
size = 96
use_filter = true
font_data = ExtResource( 1 )

[sub_resource type="DynamicFont" id=3]
size = 96
use_filter = true
font_data = ExtResource( 1 )

[sub_resource type="DynamicFont" id=4]
size = 96
font_data = ExtResource( 1 )

[node name="Setting" type="Control"]
visible = false
margin_left = 200.0
margin_top = 1000.0
margin_right = 200.0
margin_bottom = 1000.0
script = SubResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="."]
margin_right = 191.0
margin_bottom = 214.0
custom_constants/separation = 20
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sfx" type="HBoxContainer" parent="VBoxContainer"]
margin_right = 665.0
margin_bottom = 100.0
custom_constants/separation = 150

[node name="Sfx" type="Label" parent="VBoxContainer/Sfx"]
margin_top = 1.0
margin_right = 115.0
margin_bottom = 98.0
custom_fonts/font = SubResource( 2 )
text = "Sfx"

[node name="SfxSlider" type="HSlider" parent="VBoxContainer/Sfx"]
margin_left = 265.0
margin_right = 665.0
margin_bottom = 100.0
rect_min_size = Vector2( 400, 100 )
min_value = -12.0
max_value = 12.0
step = 2.0

[node name="Music" type="HBoxContainer" parent="VBoxContainer"]
margin_top = 120.0
margin_right = 665.0
margin_bottom = 220.0
custom_constants/separation = 73

[node name="Music" type="Label" parent="VBoxContainer/Music"]
margin_top = 1.0
margin_right = 191.0
margin_bottom = 98.0
custom_fonts/font = SubResource( 3 )
text = "Music"

[node name="MusicSlider" type="HSlider" parent="VBoxContainer/Music"]
margin_left = 264.0
margin_right = 664.0
margin_bottom = 100.0
rect_min_size = Vector2( 400, 100 )
min_value = -12.0
max_value = 12.0
step = 2.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Back" type="Button" parent="VBoxContainer"]
margin_top = 240.0
margin_right = 665.0
margin_bottom = 343.0
custom_fonts/font = SubResource( 4 )
custom_constants/hseparation = 100
text = "Back"
[connection signal="value_changed" from="VBoxContainer/Sfx/SfxSlider" to="." method="_on_SfxSlider_value_changed"]
[connection signal="value_changed" from="VBoxContainer/Music/MusicSlider" to="." method="_on_MusicSlider_value_changed"]
[connection signal="pressed" from="VBoxContainer/Back" to="." method="_on_Back_pressed"]
